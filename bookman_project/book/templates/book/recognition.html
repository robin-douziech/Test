{% extends "book/form.html" %}
{% block title %}
    Scan Image
{% endblock title %}
{% block form_heading %}
    Scan the book cover of a book you want to manage
{% endblock form_heading %}
{% block form_content %}
    <form method="post"
          enctype="multipart/form-data"
          class="d-flex flex-column align-items-center">
        {% csrf_token %}
        <img id="image-preview"
             src="#"
             class="mb-4"
             alt="Image Preview"
             style="display: none;
                    max-width: 300px;
                    object-fit: scale-down">
        <label class="form-label mb-4" for="image-upload">Upload Image</label>
        <input class="form-control mb-4" type="file" id="image-upload" name="image">
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
    <script>
        document.getElementById('image-upload').addEventListener('change', function(e) {
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('image-preview').style.display = 'block';
                document.getElementById('image-preview').src = e.target.result;
        }
        reader.readAsDataURL(e.target.files[0]);
    });
    </script>
{% endblock form_content %}
